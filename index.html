<!DOCTYPE HTML>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=0" />
<title>TO最亲爱的你</title>
<style type="text/css">
body {
background: url(images/bg.png) no-repeat center center fixed;
-webkit-background-size: 100% 100%;
-moz-background-size: 100% 100%;
-o-background-size: 100% 100%;
background-size: 100% 100%;
}
</style>
</head>
<body background="images/bg.png">
<div id="main" style="color:pink;width:0px;margin-left:0px;font-size:12px"></div>
<script>

var text = "xxx小公主x和你在一起那么久了，说起来，还欠你一个正式的告白呢。虽然我们的Luke老爹又逗比又不靠谱，可能他做的唯一一件靠谱的事就是让我们相识了。也不知道什么时候喜欢上你的，或许是看你捧着雪，小手冻得通红，又或许是你低着头的复习，长发垂下来的样子。每次想到你都会不由自主的微笑，这几天在一起的生活也让我出国第一次有了家的感觉。x我不帅，我才气匮乏，但如果可以，我想跟你在一起，让你开心幸福。我会用一辈子来证明，你跟着我是多么正确和明智的决定。x——Ran";

var index = -1;

function getChar() {
  index++;
  if (index >=  text.length ) return false;
  var nextChar = text[index];
  if (nextChar == "x") nextChar = "<br>";
  document.getElementById('main').innerHTML += nextChar;
}

function display() {
  setInterval(getChar, 100);
}

window.onload = function() {
var width = document.body.offsetWidth;
var height = document.body.offsetHeight;
document.getElementsByTagName('body')[0].style.width = width;
document.getElementsByTagName('body')[0].style.height = height;

alert(width);
alert(height);
if (width > height) { //desktop
  var onethird = width/3;
  document.getElementById('main').style.marginLeft  = ""+onethird+"px";
  document.getElementById('main').style.width  = ""+onethird+"px";
  document.getElementById('main').style.fontSize  = "25px";
}
else {
  var margin = width/6;
  var content = width/6*4;
  document.getElementById('main').style.marginLeft  = ""+margin+"px";
  document.getElementById('main').style.width  = ""+content+"px";
}
display();
}();
</script>
</body>
</html>
